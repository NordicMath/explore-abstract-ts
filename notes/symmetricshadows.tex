
\section{Symmetric shadows}

\begin{definition}
  A \emph{symmetric shadow} is a triple $(R, S, \upsilon)$ where $R$ is a torsion-free $\lambda$-ring called the \emph{symmetry realm}, $S$ is a $\mathbb{Q}$-algebra called the \emph{shadow realm}, and $\upsilon: R \to S$ is a ring-homomorphism called the \emph{umbra}. 
  \begin{enumerate}
    \item An \emph{element} of the symmetric shadow refers to an element of the symmetry realm. 
    \item A symmetric shadow \emph{over} $S$ has $S$ as shadow realm, and one \emph{under} $R$ has $R$ as symmetry realm.
  \end{enumerate}
\end{definition}

\begin{definition}
  We define a morphism of symmetric shadows from $(R, S, \upsilon)$ to $(R', S', \upsilon')$ as a pair $(f, g)$ with $f : R \to R'$ a $\lambda$-ring homomorphism and $g : S \to S'$ a ring-homomorphism such that $\upsilon'(f(x)) = g(\upsilon(x))$. 
  \begin{enumerate}
    \item A morphism of symmetric shadows may be called an \emph{umbral morphism}. 
    \item Further, given a pair $(f, g)$, we call $f$ the \emph{symmetry part} and $g$ the \emph{shadow part}. 
    \item When the shadow part is the identity-morphism, we call the morphism \emph{anchored} (to $S$). 
    \item Composition of umbral morphisms is given by composition partwise. 
    \item A morphism is \emph{injective} when both parts are also injective. 
  \end{enumerate}
\end{definition}

\begin{remark}
  The category of symmetric shadows is clearly a comma-category
\end{remark}

\begin{definition}
  We define the univeral symmetric shadow $\Upsilon_R = (R^{\N}, R, f \mapsto f(1))$ where $R^{\N}$ is equipped with pointwise addition and multiplication and Adams operations corresponding to compression, meaning $\psi^k(f) : n \mapsto f(nk)$.
\end{definition}

\begin{propdef}
  For each symmetric shadow $\Gamma = (R, S, \upsilon)$ there is an anchored umbral morphism $\Psi_{\Gamma} : \Gamma \to \Upsilon_S$. The symmetry part is defined by $\Psi_{\Gamma}(r) = k \mapsto \upsilon(\psi^k(r))$. We call $\Psi_{\Gamma}(r)$ the $\psi$-shadows of $r$.
\end{propdef}

\begin{propdef} \label{propdef:upsilonUniversalDiagram}
  For each morphism $\phi : \Gamma \to \Gamma'$ we get a commuting diagram:
  \begin{center}
    \begin{tikzcd}
      \Gamma \arrow[d, "\Psi_\Gamma"] \arrow[r, "\phi"] & \Gamma' \arrow[d, "\Psi_{\Gamma'}"] \\
      \Upsilon_R \arrow[r, "\Upsilon_{\phi}"] & \Upsilon_{R'}
    \end{tikzcd}
  \end{center}
  where $R$ and $R'$ are resp. the shadow realms of $\Gamma$ and $\Gamma'$ and $\Upsilon_{\phi}$ is defined as the morphism induced from applying the shadow part of $\phi$ to each point in the symmetry-realm of $\Upsilon_R$ and of course as well to its shadow realm.
\end{propdef}

\begin{proof}
  Say $\phi = (f, g)$. We need to show that $\Upsilon_{\phi} \circ \Psi_\Gamma = \Psi_{\Gamma'} \circ \phi$. The shadow part is given by $g \circ id = id \circ g$, which is of course true, and the symmetric part is given by $g^{\N} \circ (r \mapsto k \mapsto \upsilon(\psi^k(r))) = (r \mapsto k \mapsto \upsilon'(\psi^k(r))) \circ f$. If we type this out using a single element $r$ and $k$, we get $g(\upsilon(\psi^k(r))) = \upsilon'(\psi^k(f(r)))) = \upsilon'(f(\psi^k(r)))$. This is true because $g(\upsilon(x)) = \upsilon'(f(x))$ is an axiom of umbral morphisms. \qedhere
\end{proof}

\begin{proposition} \label{prop:naturalCommutativity}
  Take some natural operation $\mu$ on $\lambda$-rings and a symmetric shadow $\Gamma = (R, S, \upsilon)$. Let $\phi$ denote the symmetry part of $\Upsilon_\Gamma$. Then we have $\phi \circ \mu_R = \mu_{S^{\N}} \circ \phi$. In words, natural operations may be applied after moving to the universal $\Upsilon$ symmetric shadow, and yield the same result as if it had been applied first.
\end{proposition}

\begin{proof}
  By definition, $\mu$ commutes with any $\lambda$-homomorphism. $\phi$ is by definition a $\lambda$-homomorphism. \qedhere
\end{proof}

\begin{definition}
  For each natural operation $\mu$ on $\lambda$-rings, and element $z \in (R, S, \upsilon)$ of some symmetric shadow, define the $\mu$-shadow of $z$ as the value $\upsilon(\mu(z))$. In particular the $\lambda$-shadows of $z$ refer to the sequence where each index is the $\lambda^k$-shadow. A similar notation for $\psi$-operations of course coincides with the previously defined notion of $\psi$-shadows.
\end{definition}

\begin{definition}
  We define the \emph{nebula} of $\Gamma$, $N(\Gamma)$, as the kernel of the symmetric part of $\Psi_\Gamma$. This is a $\lambda$-ideal. We call an element \emph{nebular} when it is in this ideal.
\end{definition}

\begin{propdef}
  We say $\Gamma$ is \emph{faithful} when any of these equivalent statements are true:
  \begin{enumerate}
    \item $\Psi_\Gamma$ is injective
    \item $\Gamma$ has trivial nebula (meaning it is not nebulous)
    \item There are no nebular non-zero elements in $\Gamma$
  \end{enumerate}
\end{propdef}

\begin{proof}
  (2) and (3) are trivially equvialent. (2) is equivalent to the kernel of the symmetric part of $\Psi_\Gamma$ being trivial, which is again equivalent to injectivity of the symmetric part of $\Psi_\Gamma$, which finally is equivalent to injectivity of $\Psi_\Gamma$.
\end{proof}

\begin{proposition} 
  We make some observations on the nebula of $\Gamma = (R, S, \upsilon)$:
  \begin{enumerate}
    \item We have $N(\Gamma) \subseteq \ker \upsilon$. 
    \item $N(\Gamma)$ is the largest sub-ideal of $\ker \upsilon$ that is a $\lambda$-ideal. 
  \end{enumerate}
\end{proposition}

\begin{proof}
  We prove these one by one.
  \begin{enumerate}
    \item It is clear that if $x \in N(\Gamma)$ then $\upsilon(\psi^1(x)) = 0$ and $x \in \ker \upsilon$.
    \item Notice that any element $x \in \ker \upsilon$ such that $\lambda^k(x) \notin \ker \upsilon$ with $k \ge 1$ would have a non-zero $\lambda$-shadow and hence not be in the nebula by definition, as all $\psi$-shadows must be zero. Similarly, if $\lambda^k(x) \in \ker \upsilon$ for all $k \ge 1$, then the $\lambda$-shadows are all zero, which imply that the $\psi$-shadows must likewise be zero. This reasoning \todo{Check this properly} uses \ref{prop:naturalCommutativity}.
  \end{enumerate}
\end{proof}

\begin{proposition}
  Suppose we have an umbral morphism $\phi$ with a faithful domain and injective shadow part (for instance if $\phi$ is anchored). Then $\phi$ must be injective. 
\end{proposition}

\begin{proof}
  Let $\phi = (f, g)$. We have from \ref{propdef:upsilonUniversalDiagram} the diagram
  \begin{center}
    \begin{tikzcd}
      \Gamma \arrow[d, hook, "\Psi_\Gamma"] \arrow[r, "\phi"] & \Gamma' \arrow[d, "\Psi_{\Gamma'}"] \\
      \Upsilon_R \arrow[r, hook, "\Upsilon_{\phi}"] & \Upsilon_{R'}
    \end{tikzcd}
  \end{center}
  It is clear that since $g$ is injective, so is $\Upsilon_{\phi}$. Suppose we have some non-zero element $r$ in the symmetry part of $\Gamma$ such that $f(r) = 0$. We further see that $\Psi_{\Gamma'}(f(r)) = (k \mapsto 0)$. However, by the diagram, $\Psi_{\Gamma'}(f(r)) = \Upsilon_\phi(\Psi_{\Gamma}(r))$ and so we get $\Upsilon_\phi(\Psi_{\Gamma}(r)) = (k \mapsto 0)$. Since both of these are injective we get $r = 0$, which is a contradiction. Hence $\phi$ has injective symmetry-part, and is thus injective. \qedhere
\end{proof}

\begin{definition}
  For any sub-ring $S$ of the shadow ring of $\Gamma$, we say that $\Gamma$ has points if for any natural operation $\mu$ the $\mu$-point of any $x$ is always in $S$.
\end{definition}

\begin{proposition}
  If the $\lambda$-points of each element of $\Gamma$ are contained in $S$, then $\Gamma$ has points in $S$.
\end{proposition}

\begin{proof}
  A natural operation can be written as a polynomial with integral coefficients with the $\lambda$-operations as variables \todo{ref Yau}. We use this to write $\mu(r) = f(\lambda^1(r), \ldots, \lambda^n(r))$ for some polynomial $f$ and number $n$. The $\mu$-shadow of $r$ is defined as $\upsilon(\mu(r))$. If we insert our polynomial we get $\upsilon(f(\lambda^1(r), \ldots, \lambda^n(r)))$, and as $\upsilon$ is a ring-homomorphism, we may move its application to each of the variables and get $f(\upsilon(\lambda^1(r)), \ldots, \upsilon(\lambda^n(r)))$. Since all of the $\lambda$-points $\upsilon(\lambda^k(r))$ are contained in $S$, so is the $\mu$-point as all the variables in the integral polynomial are in $S$, and $S$ is closed under the addition and multiplication the polynomial performs. Thus, $\Gamma$ has points in $S$.
\end{proof}

\begin{propdef}
  For a non-nebular element $x$ of a given symetric shadow $\Gamma = (R, S, \upsilon)$, we may define the \emph{penumbra} $k$ as the smallest positive integer such that $\lambda^k(x)$ is not in $\ker \upsilon$. \todo{Do we use this?}
\end{propdef}

\begin{proof}
  Suppose there were no such integer $k$. Then clearly, the $\lambda$-points are zero. The arithmetic connection in $\Upsilon_S$ then implies that the $\psi$-points are zero, however then $x$ is nebular.
\end{proof}

%\begin{proposition}
  %Say that the symmetric part of $\Gamma$ is finite-dimensional, and that the nebula contains no finite-dimensional elements. Then the nebula is trivial, and $\Gamma$ faithful.
%\end{proposition}

%\begin{proof}
  %Let $z$ be an element in the nebula. As the symmetric part is finite-dimensional, we may write $z = x - y$ where both x and y are finite-dimensional. This means that neither $x$ nor $y$ may be contained in the nebula. Take $\lambda_t(z) = \lambda_t(x - y) = \lambda_t(x)/\lambda_t(y)$. Since $z$ is nebular, the $\psi$-points are zero, and by the arithmetic connection \todo{make precise}, we get that the $\lambda$-points are zero. We apply the umbra to $\lambda_t$ and get 
  %$$1 = \upsilon(\lambda_t(z)) = \upsilon(\lambda_t(x)/\lambda_t(y)) = \upsilon(\lambda_t(x))/\upsilon(\lambda_t(y))$$
  %From which we can conclude $\upsilon(\lambda_t(x)) = \upsilon(\lambda_t(y))$ and further that $x$ and $y$ have exactly the same $\lambda$-points. 
  
  
  
  
  %Take $a$ and $b$ to respectively be the penumbras of $x$ and $-y$. Consider $z' = \lambda^{a + b}(x - y)$, which expands to 
  %$$\sum_{i + j = a + b} \lambda^i(x) \lambda^j(-y)$$ 
  %We may split this sum into some central parts in the following manner:
  %$$\lambda^{a + b}(x) + \lambda^{a + b}(-y) + \lambda^a(x) \lambda^b(-y) + \sum_{0 < i < a} \lambda^i(x) \lambda^{a + b - i}(-y) + \sum_{0 < i < b} \lambda^{a + b - i}(x) \lambda^{i}(-y)$$
  %If we apply the umbra, we see that the last two terms vanish, as by definition of $a$, $\upsilon(\lambda^i(x)) = 0$ whenever $0 < i < a$, and likewise for $b$ and $-y$. Since $z$ is nebular, $z'$ must be in the kernel of the umbra, and the remaining terms must then be zero:
  %$$\upsilon(\lambda^{a + b}(x)) + \upsilon(\lambda^{a + b}(-y)) + \upsilon(\lambda^a(x)) \upsilon(\lambda^b(-y)) = 0$$
  %This gives us
  %$$\upsilon(\lambda^{a + b}(x)) + \upsilon(\lambda^{a + b}(-y)) = -\upsilon(\lambda^a(x)) \upsilon(\lambda^b(-y))$$
%\end{proof}

\begin{definition}
  We define the \emph{Tannakian shadow} $TS(M \subset R)$ as the triple $(TS(M), R, tr)$, where $tr$ is the embedding into $TS(R)$ and then applying Tannakian symbol trace. 
\end{definition}

\begin{proposition}
  If $M$ does not contain zero, then $TS(M \subset R)$ is faithful. 
\end{proposition}

\begin{proof}
  Since $M$ does not contain zero, we see that no line-elements $\{x\}/\varnothing$ are in $\ker tr$, as $tr(\{x\}/\varnothing) = x \ne 0$. This implies that no symbols $A/\varnothing$ may be contained in the nebula, as $\lambda^{\#A}(A/\varnothing) = \{\prod A\}/\varnothing \notin \ker tr$. This also implies that $A/\varnothing$ always has dimension $\#A$, considering $\lambda^k(A/\varnothing) = \varnothing/\varnothing$ whenever $k > \#A$.
   \todo{finish}
  %Suppose any non-zero symbol $X = A/B$ is in the nebula. We may assume that $\#A, \#B \ge 1$, as we showed just now. As $X = A/B$ is nebular, we get that $A/\varnothing$ and $B/\varnothing$ have the same $\psi$-points, and by arithmetic connection\todo{check} , the same $\lambda$-points. This implies $\#A = \#B$, because as we just saw, the dimension of $A/\varnothing$ is $\#A$ and equal $\lambda$-points imply equal dimension. Now just use $e_k(A) = e_k(B)$-type  reasoning.
  
  %We have $\lambda_t(X) = \lambda_t$
  
  %Now suppose a non-zero $X$ is nebular. Since the nebula is contained in $\ker tr$, we get $tr(X) = 0$, and since it must contain an element downstairs (it is non-zero and may not be $A/\varnothing$), we may rewrite $X = Y + \varnothing/\{tr(Y)\}$. Note that $tr(Y)$ must be in $M$, simply by virtue of $X$ being nebular, which further give $tr(Y) \ne 0$. This also means that for any $k$, we have $tr(\psi^k(X)) = 0$. By using our substitution, we get $tr(\psi^k(Y + \varnothing/\{tr(Y)\})) = tr(\psi^k(Y)) + tr(\psi^k(\varnothing/\{tr(Y)\})) = tr(\psi^k(Y)) - tr(Y)^k = tr(\psi^k(Y)) - tr(Y^k) = tr(\psi^k(Y) - Y^k) = 0$.
\end{proof}

\begin{example}
  If $R$ is an integral domain, we see that $TS(R \backslash \{0\})$ is a faithful Tannakian shadow. For any $R$, we have $TS(R^{\star})$.
\end{example}
